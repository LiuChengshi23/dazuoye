## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ª**ä¼ä¸šçº§æœåŠ¡å™¨å®æ—¶ç›‘æ§æ•°æ®å¤§å±ç³»ç»Ÿ**ï¼Œé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œå®ç°äº†å®Œå…¨è‡ªåŠ¨åŒ–çš„æœåŠ¡å™¨ç›‘æ§ç®¡ç†ã€‚ç³»ç»Ÿé€šè¿‡Webç•Œé¢ç»Ÿä¸€ç®¡ç†å¤šå°æœåŠ¡å™¨ï¼Œè‡ªåŠ¨é‡‡é›†CPUã€å†…å­˜ã€ç£ç›˜ç­‰å…³é”®æŒ‡æ ‡ï¼Œå¹¶é€šè¿‡å¯è§†åŒ–å¤§å±å®æ—¶å±•ç¤ºã€‚

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

1. **Webä¸»æœºç®¡ç†ç•Œé¢**ï¼šæ·»åŠ /åˆ é™¤è¢«ç›‘æ§ä¸»æœº
2. **è‡ªåŠ¨åŒ–æ•°æ®é‡‡é›†**ï¼šé€šè¿‡SSHè‡ªåŠ¨é‡‡é›†æœåŠ¡å™¨æ€§èƒ½æŒ‡æ ‡
3. **å®æ—¶ç›‘æ§å¤§å±**ï¼šå¯è§†åŒ–å±•ç¤ºæ‰€æœ‰æœåŠ¡å™¨è¿è¡ŒçŠ¶æ€
4. **å†å²æ•°æ®æŸ¥è¯¢**ï¼šæŒ‰æ—¶é—´èŒƒå›´æŸ¥è¯¢å†å²ç›‘æ§æ•°æ®
5. **æ™ºèƒ½å‘Šè­¦ç³»ç»Ÿ**ï¼šå¯é…ç½®é˜ˆå€¼ï¼Œè‡ªåŠ¨å‘Šè­¦æç¤º
6. **å®¹å™¨åŒ–éƒ¨ç½²**ï¼šåŸºäºDockerçš„è½»é‡çº§éƒ¨ç½²æ–¹æ¡ˆ

### ğŸ—ï¸ æŠ€æœ¯æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å‰ç«¯å±•ç¤ºå±‚                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  index.html     dashboard.html     history.html     settings.html â”‚
â”‚  (ä¸»æœºç®¡ç†)      (ç›‘æ§å¤§å±)        (å†å²è®°å½•)        (ç³»ç»Ÿè®¾ç½®)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                        Nginxåå‘ä»£ç†                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      APIæ¥å£å±‚                              â”‚
â”‚                    (Flask REST API)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      ä¸šåŠ¡é€»è¾‘å±‚                              â”‚
â”‚                 (æ•°æ®å¤„ç† + SSHé‡‡é›†)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      æ•°æ®å­˜å‚¨å±‚                              â”‚
â”‚                     (SQLiteæ•°æ®åº“)                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    è¢«ç›‘æ§æœåŠ¡å™¨é›†ç¾¤                            â”‚
â”‚              (SSHè¿æ¥ + æ€§èƒ½æŒ‡æ ‡é‡‡é›†)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **åç«¯**ï¼šPython 3.8 + Flask + SQLite
- **å‰ç«¯**ï¼šHTML5 + CSS3 + JavaScript + Chart.js
- **å®¹å™¨åŒ–**ï¼šDocker + Docker Compose
- **æ•°æ®é‡‡é›†**ï¼šParamiko (SSH)
- **å¯è§†åŒ–**ï¼šChart.jså›¾è¡¨åº“

------

## ğŸ“ é¡¹ç›®ç»“æ„

```
project
â”œâ”€â”€ docker-compose.yml              # Dockerç¼–æ’é…ç½®
â”œâ”€â”€ README.md                       # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ 
â”œâ”€â”€ backend/                        # åç«¯æœåŠ¡ç›®å½•
â”‚   â”œâ”€â”€ app.py                      # Flaskä¸»åº”ç”¨æ–‡ä»¶
â”‚   â”œâ”€â”€ Dockerfile                   # åç«¯Dockeré•œåƒæ„å»ºæ–‡ä»¶
â”‚   â”œâ”€â”€ requirements.txt             # Pythonä¾èµ–åŒ…åˆ—è¡¨
â”‚   â””â”€â”€ data/                        # æ•°æ®å­˜å‚¨ç›®å½•
â”‚       â””â”€â”€ monitor.db               # SQLiteæ•°æ®åº“æ–‡ä»¶
â”‚
â””â”€â”€ frontend/                      # å‰ç«¯æœåŠ¡ç›®å½•
    â”œâ”€â”€ index.html                  # ä¸»æœºç®¡ç†é¡µé¢
    â”œâ”€â”€ dashboard.html              # ç›‘æ§å¤§å±é¡µé¢
    â”œâ”€â”€ history.html                # å†å²è®°å½•é¡µé¢
    â”œâ”€â”€ settings.html               # ç³»ç»Ÿè®¾ç½®é¡µé¢
    â”œâ”€â”€ 
    â”œâ”€â”€ css/                        # æ ·å¼æ–‡ä»¶ç›®å½•
    â”‚   â””â”€â”€ style.css               # ä¸»æ ·å¼æ–‡ä»¶
    â”‚
    â”œâ”€â”€ js/                         # JavaScriptæ–‡ä»¶ç›®å½•
    â”‚   â”œâ”€â”€ ui.js                   # UIå·¥å…·åº“
    â”‚   â”œâ”€â”€ api.js                  # APIæ¥å£å°è£…
    â”‚   â””â”€â”€ charts.js              # å›¾è¡¨ç®¡ç†æ¨¡å—
    â”‚   â””â”€â”€ i18n/                      
    â”‚    â””â”€â”€ en.js
    â”‚    â””â”€â”€ index.js
    â”‚    â””â”€â”€ zh.js
```

------

## ğŸš€ éƒ¨ç½²æ­¥éª¤

### ç¬¬ä¸€æ­¥ï¼šç¯å¢ƒå‡†å¤‡

#### 1.1 ç³»ç»Ÿè¦æ±‚

- **æ“ä½œç³»ç»Ÿ**ï¼šLinux (Ubuntu 20.04+ / CentOS 8+) æˆ– macOS
- **å†…å­˜**ï¼šæœ€ä½2GBï¼Œæ¨è4GB+
- **å­˜å‚¨**ï¼šæœ€ä½10GBå¯ç”¨ç©ºé—´
- **ç½‘ç»œ**ï¼šèƒ½å¤Ÿè®¿é—®äº’è”ç½‘ï¼ˆç”¨äºä¸‹è½½ä¾èµ–ï¼‰

#### 1.2 è½¯ä»¶ä¾èµ–å®‰è£…

**Ubuntu/Debianç³»ç»Ÿï¼š**

bash

```
# æ›´æ–°åŒ…ç®¡ç†å™¨
sudo apt update

# å®‰è£…Docker
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh

# å®‰è£…Docker Compose
sudo curl -L "https://github.com/docker/compose/releases/download/v2.20.0/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose

# å°†å½“å‰ç”¨æˆ·æ·»åŠ åˆ°dockerç»„
sudo usermod -aG docker $USER
newgrp docker
```

**CentOS/RHELç³»ç»Ÿï¼š**

bash

```
# å®‰è£…Docker
sudo yum install -y yum-utils
sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo
sudo yum install -y docker-ce docker-ce-cli containerd.io

# å®‰è£…Docker Compose
sudo curl -L "https://github.com/docker/compose/releases/download/v2.20.0/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose

# å¯åŠ¨DockeræœåŠ¡
sudo systemctl start docker
sudo systemctl enable docker
```

#### 1.3 éªŒè¯å®‰è£…

bash

```
# éªŒè¯Dockerç‰ˆæœ¬
docker --version

# éªŒè¯Docker Composeç‰ˆæœ¬
docker-compose --version

# æµ‹è¯•Dockerè¿è¡Œ
docker run hello-world
```

### ç¬¬äºŒæ­¥ï¼šè·å–é¡¹ç›®ä»£ç 

#### 2.1 å…‹éš†é¡¹ç›®ä»“åº“

bash

```
# å…‹éš†é¡¹ç›®åˆ°æœ¬åœ°
git clone <é¡¹ç›®ä»“åº“åœ°å€>
cd monitor-system

# æŸ¥çœ‹é¡¹ç›®ç»“æ„
ls -la
```

#### 2.2 é¡¹ç›®æ–‡ä»¶è¯´æ˜

bash

```
# æŸ¥çœ‹Dockerç¼–æ’é…ç½®
cat docker-compose.yml

# æŸ¥çœ‹åç«¯ä¾èµ–
cat backend/requirements.txt

# æŸ¥çœ‹å‰ç«¯é¡µé¢ç»“æ„
ls -la frontend/
```

### ç¬¬ä¸‰æ­¥ï¼šé…ç½®ç³»ç»Ÿå‚æ•°

#### 3.1 docker-compose.ymlé…ç½®

yaml

```
version: "3.8"

services:
  backend:
    build: ./backend
    container_name: monitor-backend
    network_mode: "host"  # ä½¿ç”¨å®¿ä¸»æœºç½‘ç»œ
    restart: unless-stopped
    volumes:
      - ./backend:/app
      - ./backend/data:/app/data
    environment:
      - FLASK_ENV=development
      - FLASK_DEBUG=True

  frontend:
    image: nginx:alpine
    container_name: monitor-frontend
    volumes:
      - ./frontend:/usr/share/nginx/html
    ports:
      - "8080:80"  # å‰ç«¯è®¿é—®ç«¯å£
    restart: unless-stopped
    depends_on:
      - backend
```

#### 3.2 åç«¯é…ç½®æ–‡ä»¶

bash

```
# åç«¯Dockerfile
FROM python:3.8-slim

WORKDIR /app

# é…ç½®å›½å†…é•œåƒæº
RUN pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple && \
    pip config set global.trusted-host pypi.tuna.tsinghua.edu.cn

# æ›´æ–°pip
RUN pip install --upgrade pip setuptools wheel

# å®‰è£…ç³»ç»Ÿä¾èµ–
RUN apt-get update && apt-get install -y \
    gcc \
    libffi-dev \
    libssl-dev \
    && rm -rf /var/lib/apt/lists/*

# å¤åˆ¶requirementsæ–‡ä»¶
COPY requirements.txt .

# å®‰è£…Pythonä¾èµ–
RUN pip install --no-cache-dir -r requirements.txt

# å¤åˆ¶åº”ç”¨ä»£ç 
COPY . .

# åˆ›å»ºæ•°æ®ç›®å½•
RUN mkdir -p /app/data

# æš´éœ²ç«¯å£
EXPOSE 5000

# å¯åŠ¨å‘½ä»¤
CMD ["python", "app.py"]
```

#### 3.3 requirements.txt

txt

```
flask==2.0.3
paramiko==2.8.0
```

### ç¬¬å››æ­¥ï¼šæ„å»ºå’Œå¯åŠ¨ç³»ç»Ÿ

#### 4.1 æ„å»ºDockeré•œåƒ

bash

```
# åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
cd monitor-system

# æ„å»ºæ‰€æœ‰æœåŠ¡é•œåƒ
docker-compose build

# æŸ¥çœ‹æ„å»ºçš„é•œåƒ
docker images | grep monitor
```

#### 4.2 å¯åŠ¨ç³»ç»ŸæœåŠ¡

bash

```
# å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æœåŠ¡æ—¥å¿—
docker-compose logs -f
```

#### 4.3 éªŒè¯ç³»ç»Ÿå¯åŠ¨

bash

```
# æ£€æŸ¥åç«¯API
curl http://localhost:5000/api/hosts

# æ£€æŸ¥å‰ç«¯é¡µé¢
curl -I http://localhost:8080

# æŸ¥çœ‹å®¹å™¨èµ„æºä½¿ç”¨
docker stats
```

### ç¬¬äº”æ­¥ï¼šè®¿é—®å’ŒéªŒè¯ç³»ç»Ÿ

#### 5.1 è®¿é—®Webç•Œé¢

æ‰“å¼€æµè§ˆå™¨è®¿é—®ä»¥ä¸‹åœ°å€ï¼š

- **ä¸»æœºç®¡ç†**ï¼šhttp://localhost:8080/index.html
- **ç›‘æ§å¤§å±**ï¼šhttp://localhost:8080/dashboard.html
- **å†å²è®°å½•**ï¼šhttp://localhost:8080/history.html
- **ç³»ç»Ÿè®¾ç½®**ï¼šhttp://localhost:8080/settings.html

#### 5.2 ç³»ç»Ÿåˆå§‹åŒ–éªŒè¯

1. **æ£€æŸ¥é¡µé¢åŠ è½½**ï¼šç¡®ä¿æ‰€æœ‰é¡µé¢æ­£å¸¸æ˜¾ç¤º
2. **éªŒè¯APIæ¥å£**ï¼šæµ‹è¯•ä¸»æœºç®¡ç†ã€æ•°æ®æŸ¥è¯¢ç­‰æ¥å£

3. **æ£€æŸ¥æ•°æ®åº“**ï¼šç¡®è®¤SQLiteæ•°æ®åº“æ­£å¸¸åˆ›å»º
